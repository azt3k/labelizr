;(function($,e,t,s){"use strict";var a="labelizr",l="0.1.4",i={},o={},n={},c={transitionDuration:.1,transitionEasing:"ease-in-out",labelClass:"",classSwitchOnly:false,alwaysDisplay:[],typeMatches:/text|password|email|number|search|url|tel/,css:{field:{},"field-active":{},"field-focus":{},label:{position:"absolute",color:"#838780","background-color":"transparent","-moz-opacity":"0","-khtml-opacity":"0","-webkit-opacity":"0",opacity:"0"},"label-active":{color:"#838780","-moz-opacity":"1","-khtml-opacity":"1","-webkit-opacity":"1",opacity:"1"},"label-focus":{color:"#2996cc"}}};function f(e,t){this.$element=$(e);this.settings=$.extend(true,{},c,t);this.init()}f.prototype={init:function(){var t,a=this,l=this.settings,o=l.transitionDuration,c=l.transitionEasing,f=this.$element,r=f.attr("id"),d=f.attr("placeholder"),u=f.attr("data-label"),h=f.attr("data-class"),p={"-webkit-transition":"all "+o+"s "+c,"-moz-transition":"all "+o+"s "+c,"-o-transition":"all "+o+"s "+c,"-ms-transition":"all "+o+"s "+c,transition:"all "+o+"s "+c};if(f.prop("tagName").toUpperCase()!=="INPUT"&&f.prop("tagName").toUpperCase()!=="TEXTAREA"&&f.prop("tagName").toUpperCase()!=="SELECT"){return}if(f.prop("tagName").toUpperCase()=="INPUT"&&!l.typeMatches.test(f.attr("type"))){return}if(!r){while(!r||$("#"+r).length){r=Math.floor(Math.random()*1e3)+1}f.attr("id",r)}if(!h)h="";if(!d||d==="")d="You forgot to add placeholder attribute!";if(!u||u==="")u=d;f.wrap('<div class="floatlabel-wrapper" style="position:relative"></div>');f.before('<label for="'+r+'" class="label-floatlabel '+l.labelClass+" "+h+'">'+u+"</label>");t=this.$label=f.parent().find("label").css({display:"none"});n[r]=f.attr("style")==s?"":f.attr("style");f.on("keyup blur change",function(e){a.checkValue(e)});f.on("blur",function(){var e=f.is(".active-floatlabel")?"-active":"";f.removeClass("focus-floatlabel");t.removeClass("focus-floatlabel");if(!l.classSwitchOnly){f.css(a.cssConf("field"+e));t.css(a.cssConf("label"+e))}});f.on("focus",function(){var e=f.is(".active-floatlabel")?"-active":"";f.addClass("focus-floatlabel");t.addClass("focus-floatlabel");if(!l.classSwitchOnly){f.css(a.cssConf("field-focus","field"+e));t.css(a.cssConf("label-focus","label"+e))}});var b=this.isAndroid()?"orientationchange":"resize";$(e).on(b,function(e){t.removeClass("active-floatlabel").removeClass("focus-floatlabel");f.trigger("blur").data("flout","0").removeClass("active-floatlabel").removeClass("focus-floatlabel");a.resetInlineStyles(r);a.flushCssCache(r);t.css({display:"none"});if(i[r]!=s)clearTimeout(i[r]);i[r]=setTimeout(function(){i[r]=s;if(!l.classSwitchOnly){t.css(p).css(a.cssConf("label"));f.css(p).css(a.cssConf("field"))}a.checkValue()},300)}).trigger("resize")},isAndroid:function(){return/Android/.test(navigator.userAgent)},flushCssCache:function(e){if(e==s)o={};else o[e]=s},resetInlineStyles:function(e){$("#"+e).attr("style",n[e]);$('label[for="'+e+'"]').attr("style","")},cssConf:function(e,t){var a=this.$element;var l=a.parent().find("label");var i=a.attr("id");if(o[i]==s){o[i]={};o[i]["field"]=$.extend({},{"padding-top":a.css("padding-top"),height:a.outerHeight()},this.settings.css["field"]);o[i]["label"]=$.extend({},{top:a.css("padding-top"),left:a.css("padding-left"),"font-size":a.css("font-size"),"font-weight":a.css("font-weight"),color:a.css("color"),height:a.css("line-height"),display:"none"},this.settings.css["label"]);o[i]["field-active"]=$.extend({},{"padding-top":parseInt(a.css("padding-top"))+l.outerHeight(),height:a.outerHeight()+l.outerHeight()},this.settings.css["field-active"]);o[i]["label-active"]=$.extend({},{},this.settings.css["label-active"]);o[i]["field-focus"]=$.extend({},{},this.settings.css["field-focus"]);o[i]["label-focus"]=$.extend({},{},this.settings.css["label-focus"])}return t==s||!t?o[i][e]:$.extend({},o[i][t],o[i][e])},checkValue:function(e){if(e){var t=e.keyCode||e.which;if(t===9){return}}var s=this.$element,a=s.data("flout");if(s.val()!=="")s.data("flout","1");if(s.val()==="")s.data("flout","0");if(s.data("flout")==="1"&&a!=="1")this.showLabel();if(s.data("flout")==="0"&&a!=="0"&&(s.prop("tagName").toUpperCase()!=="SELECT"||s.prop("tagName").toUpperCase()==="SELECT"&&this.settings.alwaysDisplay.indexOf("select")===-1))this.hideLabel()},showLabel:function(){var e=this,t,s;e.$label.css({display:"block"});if(!e.settings.classSwitchOnly){if(e.$element.is(".focus-floatlabel")){t=e.cssConf("label-focus","label-active");s=e.cssConf("field-focus","field-active")}else{t=e.cssConf("label-active");s=e.cssConf("field-active")}e.$label.css(t);e.$element.css(s)}e.$label.addClass("active-floatlabel");e.$element.addClass("active-floatlabel")},hideLabel:function(){var t=this;if(!t.settings.classSwitchOnly){t.$label.css(t.cssConf("label"));t.$element.css(t.cssConf("field"))}t.$label.removeClass("active-floatlabel");t.$element.removeClass("active-floatlabel");e.setTimeout(function(){t.$label.css({display:"none"})},t.settings.transitionDuration*1e3)}};$.fn[a]=function(e){return this.each(function(){if(!$.data(this,"plugin_"+a)){$.data(this,"plugin_"+a,new f(this,e))}})}})(jQuery,window,document);
